# A Configurable Multiqueue NIC for Real-Time Embedded Systems
This respository contains:
1. A simulator, generating an interrupt trace from a received network trace (nic_simulator)
2. A net_trace_generator, producing network traces in the right format for the NIC simulator (net_trace_generator)
3. A script, transforming a generated interrupt trace to a C header file to be included in the ESP32 build files (trace2blob)
4. An ESP32 app including interrupt logic, custom network stack and example worker tasks to test and evaluate different NIC configurations (esp_nic_evaluator)

# Usage
The script run.py perform the necessary tasks in the right order. Experiments have to be defined in the experiment folder from where configurations are automatically run and where results are copied to. Have a look at the example experiment definitions and provided scripts. An experiment folder has to contain a config file and a network trace generated by the net_trace_generator to successfully run.

# Results
- interrupt_trace.csv is a timetrace of interrupts and their corresponding packet metadata
- packet_trace.csv is a generated network trace used by the NIC simulator
- rx_times.csv contains the receive time of each packet as well as the time when it triggers its receiving process, the delay between those two timestamps and the runtime of the triggered receiving worker process
- sequence.csv contains a list of each packet, their receive time at the nic, the point in time when its interrupt is triggered and the port number it was received through